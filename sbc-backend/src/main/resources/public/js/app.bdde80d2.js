(function(t){function e(e){for(var s,a,i=e[0],l=e[1],c=e[2],f=0,d=[];f<i.length;f++)a=i[f],r[a]&&d.push(r[a][0]),r[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(s=!1)}s&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},r={app:0},o=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("64a9"),r=n.n(s);r.a},"1e84":function(t,e,n){"use strict";var s=n("acfa"),r=n.n(s);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"App"}},[n("b-container",[n("NavBar"),n("CollSelect"),n("SearchBar"),n("ResultList")],1)],1)},o=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"NavBar"}},[n("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"primary"}},[n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-navbar-brand",{attrs:{tag:"h1"}},[t._v("sBC - Searching eBooks Collections")]),n("b-collapse",{attrs:{"is-nav":"",id:"nav-collapse"}},[n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-form",[n("Settings")],1),n("b-nav-form",[n("About")],1)],1)],1)],1)],1)},i=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-button",{attrs:{variant:"primary",size:"lg"},on:{click:t.about}},[n("span",{staticClass:"fa fa-info-circle"})]),n("b-modal",{ref:"about",attrs:{title:"About sBC","ok-only":"","ok-variant":"info","header-bg-variant":"info","header-text-variant":"light","header-close-label":"",scrollable:""}},[n("p",[t._v("This is sBC Rev. "+t._s(t.revision)+", "+t._s(t.date)+"!")]),n("p",[t._v("sBC is a web-based app for searching ebooks collections.\n            The collections are generated and maintained by eBC, the eBooks collection app, see "),n("a",{attrs:{href:"https://esb-dev.github.io/ebc.html",target:"_blank"}},[t._v("eBC Documentation")]),t._v(".\n        ")]),n("p",[t._v("sBC has two parts:")]),n("ol",[n("li",[t._v("A RESTful backend written in Kotlin and based on Javalin")]),n("li",[t._v("A frontend written in ECMAScript and based on Vue.js")])])])],1)},c=[],u={name:"About",data:function(){return{revision:"1.0",date:"2019-07-01"}},methods:{about:function(){this.$refs["about"].show()}}},f=u,d=n("2877"),p=Object(d["a"])(f,l,c,!1,null,"8592b196",null),h=p.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-button",{attrs:{variant:"primary",size:"lg"},on:{click:t.showSettings}},[n("span",{staticClass:"fa fa-cog"})]),n("b-modal",{ref:"settings",attrs:{title:"Settings","header-bg-variant":"primary","header-text-variant":"light"},on:{ok:t.handleOk}},[n("b-form-group",{attrs:{label:"Modus"}},[n("b-form-radio-group",{attrs:{options:t.options,name:"radio-inline"},model:{value:t.settings.mode,callback:function(e){t.$set(t.settings,"mode",e)},expression:"settings.mode"}})],1),n("label",[t._v("Number of results")]),n("b-form-input",{attrs:{type:"number"},model:{value:t.settings.num,callback:function(e){t.$set(t.settings,"num",e)},expression:"settings.num"}})],1)],1)},v=[],m={name:"Settings",data:function(){return{options:[{text:"Light",value:"l"},{text:"Dark",value:"d"}]}},computed:{settings:{get:function(){return this.$store.state.settings}}},methods:{showSettings:function(){this.$refs["settings"].show()},handleOk:function(){localStorage.setItem("settings",JSON.stringify(this.settings)),this.$store.commit("setSettings",this.settings)}}},g=m,_=Object(d["a"])(g,b,v,!1,null,"33965a62",null),k=_.exports,C={name:"NavBar",components:{About:h,Settings:k}},S=C,w=Object(d["a"])(S,a,i,!1,null,null,null),x=w.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-input-group",[n("div",{staticClass:"w-20"},[n("b-input-group-text",{attrs:{slot:"prepend"},slot:"prepend"},[t._v("Collection")])],1),n("b-form-select",{attrs:{options:t.collections},model:{value:t.currcoll,callback:function(e){t.currcoll=e},expression:"currcoll"}}),n("div",{staticClass:"w-10"},[n("b-button",{attrs:{block:"",squared:""},on:{click:t.browse}},[t._v("Browse")])],1)],1)],1)},$=[],O=(n("7514"),n("2f62")),B=n("bc3a"),j=n.n(B);s["default"].use(O["a"]);var E="http://localhost:7000",A=new O["a"].Store({strict:!0,state:{collections:[],currcoll:0,results:[],settings:{mode:"l",num:50}},actions:{loadCollections:function(t){var e=t.commit;j.a.get(E+"/collections").then(function(t){return t.data}).then(function(t){e("setCollections",t)})},searchBooks:function(t,e){var n=t.commit;j.a.get(E+"/ebooks?"+e).then(function(t){return t.data}).then(function(t){n("setResults",t)})},loadSettings:function(t,e){var n=t.commit;n("setSettings",e)}},mutations:{setCollections:function(t,e){t.collections=e},setCurrColl:function(t,e){t.currcoll=e},setResults:function(t,e){t.results=e},setSettings:function(t,e){t.settings=e}},getters:{}}),R={name:"CollSelect",computed:{collections:{get:function(){return this.$store.state.collections}},currcoll:{get:function(){return this.$store.state.currcoll},set:function(t){this.$store.commit("setCurrColl",t)}}},methods:{browse:function(){var t=this;window.open(E+"/"+this.collections.find(function(e){return e.value===t.currcoll}).text+"/ebc-index.html","_blank")}}},N=R,M=(n("a8df"),Object(d["a"])(N,y,$,!1,null,"72f96b6a",null)),P=M.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-input-group",[n("div",{staticClass:"w-20"},[n("b-input-group-text",{attrs:{slot:"prepend",squared:""},slot:"prepend"},[t._v("Search Criteria")])],1),n("b-form-input",{attrs:{placeholder:"Enter search criteria"},model:{value:t.searchcrit,callback:function(e){t.searchcrit=e},expression:"searchcrit"}}),n("div",{staticClass:"w-10"},[n("b-button",{attrs:{block:"",squared:"",disabled:t.isDisabled},on:{click:t.search}},[t._v("Search")])],1)],1)],1)},J=[],L={name:"SearchBar",data:function(){return{searchcrit:""}},computed:{isDisabled:function(){return""==this.searchcrit.trim()},currname:{get:function(){return this.$store.state.collections[this.$store.state.currcoll].text}}},methods:{search:function(){var t="coll="+this.currname+"&query="+this.searchcrit.trim()+"&num="+this.$store.state.settings.num;this.$store.dispatch("searchBooks",t),console.log(this.$store.state.results)}}},q=L,D=(n("1e84"),Object(d["a"])(q,T,J,!1,null,"5fed2f9e",null)),I=D.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"ResultList"}},[n("h6",{staticClass:"mt-3 ml-2"},[t._v("Results")]),n("b-list-group",t._l(t.results,function(e){return n("b-list-group-item",{key:e.idx,attrs:{button:"",variant:t.modevariant},on:{click:function(n){return t.browse(e)}}},[n("p",["x"===e.type?n("span",{staticClass:"fa fa-caret-right text-danger"}):t._e(),"b"===e.type?n("span",{staticClass:"fa fa-caret-right text-primary"}):t._e(),t._v(" "+t._s(e.author)+"\n               "),n("span",{staticClass:"font-italic"},[t._v(t._s(e.title))])])])}),1)],1)},K=[],V={name:"ResultList",computed:{results:{get:function(){return this.$store.state.results}},collections:{get:function(){return this.$store.state.collections}},currcoll:{get:function(){return this.$store.state.currcoll}},modevariant:{get:function(){return"d"===this.$store.state.settings.mode?"dark":"default"}}},methods:{browse:function(t){var e=this;window.open(E+"/"+this.collections.find(function(t){return t.value===e.currcoll}).text+"/"+t.path,"_blank")}}},F=V,G=Object(d["a"])(F,z,K,!1,null,"e9537ff6",null),H=G.exports,Q={name:"App",components:{NavBar:x,CollSelect:P,SearchBar:I,ResultList:H},mounted:function(){this.$store.dispatch("loadCollections"),localStorage.getItem("settings")&&this.$store.dispatch("loadSettings",JSON.parse(localStorage.getItem("settings")))}},U=Q,W=(n("034f"),Object(d["a"])(U,r,o,!1,null,null,null)),X=W.exports,Y=n("5f5b");n("f9e3"),n("2dd8"),n("1f54");s["default"].use(Y["a"]),s["default"].config.productionTip=!1,new s["default"]({render:function(t){return t(X)},store:A}).$mount("#app")},"64a9":function(t,e,n){},a8df:function(t,e,n){"use strict";var s=n("c89e"),r=n.n(s);r.a},acfa:function(t,e,n){},c89e:function(t,e,n){}});
//# sourceMappingURL=app.bdde80d2.js.map